## Cursor 规则使用
以下是 Cursor 规则文档的完整翻译，保留关键术语并优化技术概念表达：

---

### **Cursor 规则（Rules）**
**作用**：为 Agent（智能代理）和 Inline Edit（行内编辑）提供**系统级指令**。可视为项目的持久化上下文、偏好设置或工作流模板。

---

### **规则工作原理**
大型语言模型不会保留多次补全之间的记忆。规则通过以下方式提供持久化上下文：
1. **注入机制**：规则内容被插入到模型上下文开头
2. **持续指导**：为AI生成代码、解释修改或工作流提供一致性指引

---

### **项目规则（Project Rules）**
**存储位置**：`.cursor/rules` 目录（支持版本控制）  
**作用范围**：
- 通过路径模式限定作用域
- 可手动调用或基于相关性自动包含
- 子目录可包含专属规则目录（自动应用至该文件夹）

**核心用途**：
```markdown
✅ 编码代码库的领域知识  
✅ 自动化项目专属工作流/模板  
✅ 标准化代码风格或架构决策
```

---

### **规则结构（Rule Anatomy）**
**文件格式**：MDC (`.mdc`) - 支持元数据与内容  
**配置参数**：
| 参数 | 说明 |
|------|------|
| `type` | 决定应用方式（改变其他属性） |
| `description` | 规则描述 |
| `globs` | 文件匹配模式（如 `*.ts`） |
| `alwaysApply` | 是否强制应用 |

**示例**：
```mdx
--- 
description: RPC服务模板 
globs: "service/**" 
alwaysApply: false 
--- 
- 定义服务时使用内部RPC模式 
- 服务名始终用snake_case 
@service-template.ts  <!-- 引用文件作为附加上下文 -->
```

---

### **规则类型（Rule Types）**
| 类型 | 触发机制 | 适用场景 |
|------|----------|----------|
| `Always` | 始终包含 | 全局基础规范 |
| `Auto` | 匹配globs时自动附加 | 文件类型专属规则 |
| `Agent` | AI自主决定是否包含 | 需提供明确`description` |
| `Manual` | 需显式调用（如`@ruleName`） | 特殊场景定制 |

---

### **嵌套规则（Nested Rules）**
**目录结构示例**：
```bash
project/
├── .cursor/rules/  # 项目级规则
├── backend/
│   └── server/
│       └── .cursor/rules/  # 后端专属规则
└── frontend/
    └── .cursor/rules/  # 前端专属规则
```
**特性**：当目录内文件被引用时，对应规则自动生效

---

### **规则操作指南**
| 操作 | 路径 |
|------|------|
| **创建规则** | `New Cursor Rule` 命令 或 `Cursor Settings > Rules` |
| **生成规则** | 使用 `/Generate Cursor Rules` 命令（对话中决策复用） |
| **查看状态** | `Cursor Settings > Rules` 面板 |

---

### **最佳实践**
```markdown
🔧 **内容准则**：
- 保持规则聚焦、可执行、范围明确（<500行）
- 复杂规则拆分为组合式小规则
- 提供具体示例或引用文件
- 避免模糊描述（像编写清晰的技术文档）
- 重复提示场景复用规则

🌐 **资源获取**：
- 框架官方规则示例
- 开源社区规则库（如GitHub精选集合）
```

---

### **用户规则（User Rules）**
**位置**：`Cursor Settings → Rules`  
**特性**：全局生效，适用于**跨项目规范**  
**示例**：
```plaintext
请用简洁风格回复，避免冗余内容或填充词。
```

> ⚠️ **迁移提示**：  
> 旧版 `.cursorrules` 文件仍支持但**即将废弃**，建议迁移到新版项目规则获得更精细控制。

---

### **关键概念对照表**
| 原文术语 | 中文释义 |
|----------|----------|
| Agent | 智能代理 |
| Inline Edit | 行内编辑 |
| Glob patterns | 文件匹配模式 |
| Composabled rules | 组合式规则 |
| Deprecated | 已弃用 |

本翻译严格遵循技术文档规范，保留核心术语一致性，同时优化中文技术表达流畅度。

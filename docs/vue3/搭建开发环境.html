<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>搭建 vue3 开发环境 | aymfx's 的小屋</title>
    <meta name="description" content="心比天高，技术比纸薄，多学习一分，就多一分的收获">
    <meta name="generator" content="VitePress v1.6.2">
    <link rel="preload stylesheet" href="/assets/style.Xbb1HbSJ.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.ZeIyhoBz.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BCpzfljn.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BzDBnRMZ.js">
    <link rel="modulepreload" href="/assets/docs_vue3_搭建开发环境.md.D46fdld9.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-eb5553ec><!--[--><!--]--><!--[--><span tabindex="-1" data-v-1411b6b6></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-1411b6b6>Skip to content</a><!--]--><!----><header class="VPNav" data-v-eb5553ec data-v-9fde8217><div class="VPNavBar" data-v-9fde8217 data-v-d295ab53><div class="wrapper" data-v-d295ab53><div class="container" data-v-d295ab53><div class="title" data-v-d295ab53><div class="VPNavBarTitle has-sidebar" data-v-d295ab53 data-v-d775df85><a class="title" href="/" data-v-d775df85><!--[--><!--]--><!----><span data-v-d775df85>aymfx&#39;s 的小屋</span><!--[--><!--]--></a></div></div><div class="content" data-v-d295ab53><div class="content-body" data-v-d295ab53><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d295ab53><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d295ab53 data-v-3a93e28e><span id="main-nav-aria-label" class="visually-hidden" data-v-3a93e28e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-3a93e28e data-v-cd5e4b59><!--[--><span data-v-cd5e4b59>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-3a93e28e data-v-bc93f228><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bc93f228><span class="text" data-v-bc93f228><!----><span data-v-bc93f228>技术笔记</span><span class="vpi-chevron-down text-icon" data-v-bc93f228></span></span></button><div class="menu" data-v-bc93f228><div class="VPMenu" data-v-bc93f228 data-v-051573d3><div class="items" data-v-051573d3><!--[--><!--[--><div class="VPMenuLink" data-v-051573d3 data-v-5b308329><a class="VPLink link" href="/docs/typescript/%E5%9F%BA%E7%A1%80.html" data-v-5b308329><!--[--><span data-v-5b308329>typescript</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-051573d3 data-v-5b308329><a class="VPLink link" href="/docs/vue3/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C.html" data-v-5b308329><!--[--><span data-v-5b308329>vue3</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-d295ab53 data-v-16b65ec4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-16b65ec4 data-v-c59f2ede data-v-715d7d5a><span class="check" data-v-715d7d5a><span class="icon" data-v-715d7d5a><!--[--><span class="vpi-sun sun" data-v-c59f2ede></span><span class="vpi-moon moon" data-v-c59f2ede></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d295ab53 data-v-88d8f7ba data-v-818b762c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-818b762c data-v-0758bc19><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d295ab53 data-v-81aedaac data-v-bc93f228><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bc93f228><span class="vpi-more-horizontal icon" data-v-bc93f228></span></button><div class="menu" data-v-bc93f228><div class="VPMenu" data-v-bc93f228 data-v-051573d3><!----><!--[--><!--[--><!----><div class="group" data-v-81aedaac><div class="item appearance" data-v-81aedaac><p class="label" data-v-81aedaac>Appearance</p><div class="appearance-action" data-v-81aedaac><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-81aedaac data-v-c59f2ede data-v-715d7d5a><span class="check" data-v-715d7d5a><span class="icon" data-v-715d7d5a><!--[--><span class="vpi-sun sun" data-v-c59f2ede></span><span class="vpi-moon moon" data-v-c59f2ede></span><!--]--></span></span></button></div></div></div><div class="group" data-v-81aedaac><div class="item social-links" data-v-81aedaac><div class="VPSocialLinks social-links-list" data-v-81aedaac data-v-818b762c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-818b762c data-v-0758bc19><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d295ab53 data-v-59b112b8><span class="container" data-v-59b112b8><span class="top" data-v-59b112b8></span><span class="middle" data-v-59b112b8></span><span class="bottom" data-v-59b112b8></span></span></button></div></div></div></div><div class="divider" data-v-d295ab53><div class="divider-line" data-v-d295ab53></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-eb5553ec data-v-ead1b4fd><div class="container" data-v-ead1b4fd><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-ead1b4fd><span class="vpi-align-left menu-icon" data-v-ead1b4fd></span><span class="menu-text" data-v-ead1b4fd>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-ead1b4fd data-v-061fd9b4><button data-v-061fd9b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-eb5553ec data-v-38dfb95e><div class="curtain" data-v-38dfb95e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-38dfb95e><span class="visually-hidden" id="sidebar-aria-label" data-v-38dfb95e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-78d942f7><section class="VPSidebarItem level-0 has-active" data-v-78d942f7 data-v-344a404a><div class="item" role="button" tabindex="0" data-v-344a404a><div class="indicator" data-v-344a404a></div><h2 class="text" data-v-344a404a>准备</h2><!----></div><div class="items" data-v-344a404a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>准备工作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>搭建vue3开发环境</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-78d942f7><section class="VPSidebarItem level-0" data-v-78d942f7 data-v-344a404a><div class="item" role="button" tabindex="0" data-v-344a404a><div class="indicator" data-v-344a404a></div><h2 class="text" data-v-344a404a>reactivity模块</h2><!----></div><div class="items" data-v-344a404a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-1.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>响应式模块的核心</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-2.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>reactvie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-3.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>reactiveEffect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-4.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>ref</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-5.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>Effect</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-6.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>computed</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-7.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>baseHandler</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-8.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>apiWatch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/reactivity-9.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>contants</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-78d942f7><section class="VPSidebarItem level-0" data-v-78d942f7 data-v-344a404a><div class="item" role="button" tabindex="0" data-v-344a404a><div class="indicator" data-v-344a404a></div><h2 class="text" data-v-344a404a>shared模块</h2><!----></div><div class="items" data-v-344a404a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-344a404a data-v-344a404a><div class="item" data-v-344a404a><div class="indicator" data-v-344a404a></div><a class="VPLink link link" href="/docs/vue3/shared.html" data-v-344a404a><!--[--><p class="text" data-v-344a404a>shared模块</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-eb5553ec data-v-7003d841><div class="VPDoc has-sidebar has-aside" data-v-7003d841 data-v-b31b6526><!--[--><!--]--><div class="container" data-v-b31b6526><div class="aside" data-v-b31b6526><div class="aside-curtain" data-v-b31b6526></div><div class="aside-container" data-v-b31b6526><div class="aside-content" data-v-b31b6526><div class="VPDocAside" data-v-b31b6526 data-v-bb859877><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-bb859877 data-v-f0506692><div class="content" data-v-f0506692><div class="outline-marker" data-v-f0506692></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f0506692>On this page</div><ul class="VPDocOutlineItem root" data-v-f0506692 data-v-93ec3d28><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-bb859877></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-b31b6526><div class="content-container" data-v-b31b6526><!--[--><!--]--><main class="main" data-v-b31b6526><div style="position:relative;" class="vp-doc _docs_vue3_%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83" data-v-b31b6526><div><h1 id="搭建-vue3-开发环境" tabindex="-1">搭建 vue3 开发环境 <a class="header-anchor" href="#搭建-vue3-开发环境" aria-label="Permalink to &quot;搭建 vue3 开发环境&quot;">​</a></h1><h2 id="创建-monorepo-环境" tabindex="-1">创建 monorepo 环境 <a class="header-anchor" href="#创建-monorepo-环境" aria-label="Permalink to &quot;创建 monorepo 环境&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue3.4</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue3.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .npmrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .pnpm-workspace.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/reactivity</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/shared</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scripts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> script/dev.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> typescript</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minimist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esbuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tsc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span></span></code></pre></div><h4 id="编写-npmrc" tabindex="-1">编写 .npmrc <a class="header-anchor" href="#编写-npmrc" aria-label="Permalink to &quot;编写 .npmrc&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shamefully-hoist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 将node_modules的提升到</span></span></code></pre></div><h4 id="编写-pnpm-workspace-yaml" tabindex="-1">编写 .pnpm-workspace.yaml <a class="header-anchor" href="#编写-pnpm-workspace-yaml" aria-label="Permalink to &quot;编写 .pnpm-workspace.yaml&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">packages:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - &#39;packages</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*&#39;</span></span></code></pre></div><h4 id="编写-json-的文件" tabindex="-1">编写 json 的文件 <a class="header-anchor" href="#编写-json-的文件" aria-label="Permalink to &quot;编写 json 的文件&quot;">​</a></h4><p><img src="/assets/image.D1rUOZRh.png" alt="文件列表"></p><p>./packages/reactivity/package.json reactivity 是存放响应式相关代码的包</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@vue/reactivity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/reactivity.esm-bundler.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打包后的文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;unpkg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/reactivity.global.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打包后的文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;buildOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VueReactivity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 包名</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;formats&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esm-bundler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esm-browser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;global&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打包格式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@vue/shared&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:*&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 依赖包</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>./packages/shared/package.json shared 包 是 reactivity 和 runtime-core 共享的包</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@vue/shared&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/shared.esm-bundler.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;buildOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;formats&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esm-bundler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>buildOptions</strong> 是 esbuild 的配置，用于指定打包的格式,用于构建包的时候使用</p><p><strong>&quot;esm-bundler&quot;, &quot;esm-browser&quot;, &quot;cjs&quot;, &quot;global&quot;</strong> 是 esbuild 的打包格式</p><ul><li>esm-bundler: 浏览器打包 esm 格式 最推荐的</li><li>esm-browser: 构建工具的时候需要用到</li><li>cjs: node 中使用</li><li>global: 浏览器打包 暴露全局对象</li></ul><p><strong>workspace:*</strong> 表示当前包依赖于其他包 不需要指定版本号，会自动获取</p><h4 id="编写-tsconfig-json" tabindex="-1">编写 tsconfig.json <a class="header-anchor" href="#编写-tsconfig-json" aria-label="Permalink to &quot;编写 tsconfig.json&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;compilerOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;outDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出的目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourceMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 采用sourcemap</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;target&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es2016&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 目标语法</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esnext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 模块格式</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;moduleResolution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 模块解析方式</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 严格模式</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;resolveJsonModule&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 解析json模块</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;esModuleInterop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 允许通过es6语法引入commonjs模块</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;jsx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preserve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// jsx 不转义</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esnext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 支持的类库 esnext及dom</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="修改根目录的-package-json" tabindex="-1">修改根目录的 package.json <a class="header-anchor" href="#修改根目录的-package-json" aria-label="Permalink to &quot;修改根目录的 package.json&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //....</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node scripts/dev.js reactivity -f esm&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 打包reactivity 为esm模块</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="编写-scripts-dev-js" tabindex="-1">编写 scripts/dev.js <a class="header-anchor" href="#编写-scripts-dev-js" aria-label="Permalink to &quot;编写 scripts/dev.js&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> esbuild </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;esbuild&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打包工具</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minimist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;minimist&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 命令行参数解析</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { resolve, dirname } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fileURLToPath } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createRequire } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> require</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRequire</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以在es6中使用require语法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> minimist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(process.argv.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 解析打包格式和打包模块</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> args.f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;iife&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> args._[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;reactivity&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// __dirname在es6模块中不存在需要自行解析</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __dirname</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fileURLToPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`../packages/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/package.json`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">esbuild</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    entryPoints: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`../packages/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/src/index.ts`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    outfile: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 输出的文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      __dirname,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `../packages/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/dist/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.js`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bundle: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 全部打包</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sourcemap: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sourcemap源码映射</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    format, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 打包格式 esm , cjs, iife</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    globalName: pkg.buildOptions?.name, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 全局名配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    platform: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;browser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 平台</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;watching~~~&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 监控文件变化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><h3 id="启动命令" tabindex="-1">启动命令 <a class="header-anchor" href="#启动命令" aria-label="Permalink to &quot;启动命令&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p><img src="/assets/image-1.D__u5vku.png" alt="打包成功"></p></div></div></main><footer class="VPDocFooter" data-v-b31b6526 data-v-494833e0><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-494833e0><span class="visually-hidden" id="doc-footer-aria-label" data-v-494833e0>Pager</span><div class="pager" data-v-494833e0><a class="VPLink link pager-link prev" href="/docs/vue3/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C.html" data-v-494833e0><!--[--><span class="desc" data-v-494833e0>Previous page</span><span class="title" data-v-494833e0>准备工作</span><!--]--></a></div><div class="pager" data-v-494833e0><a class="VPLink link pager-link next" href="/docs/vue3/reactivity-1.html" data-v-494833e0><!--[--><span class="desc" data-v-494833e0>Next page</span><span class="title" data-v-494833e0>响应式模块的核心</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_about_about.md\":\"CnL23ufA\",\"docs_dict_docker.md\":\"ExUMHDnB\",\"docs_dict_git.md\":\"kFNniWK7\",\"docs_dict_mongodb.md\":\"DlpE29K8\",\"docs_dict_mysql.md\":\"B-Lfa_Y9\",\"docs_dict_ssh.md\":\"CjMG6EXn\",\"docs_interview_基础.md\":\"BM0qHHSw\",\"docs_typescript_infer的用法与技巧.md\":\"CuRjjtIk\",\"docs_typescript_tsconfig配置文件.md\":\"C9XWPQlh\",\"docs_typescript_ts类型体操.md\":\"C_ocFAwm\",\"docs_typescript_type和interface.md\":\"Cv3jefBY\",\"docs_typescript_函数的协变与逆变.md\":\"CytIL3HJ\",\"docs_typescript_命名空间.md\":\"DrfPuhR4\",\"docs_typescript_基础.md\":\"DzDuTTLq\",\"docs_typescript_模板字符串类型.md\":\"CkI4eO7P\",\"docs_typescript_泛型.md\":\"CuWm56cB\",\"docs_typescript_类型计算的方式.md\":\"2oCguMeS\",\"docs_typescript_装包拆包.md\":\"ZAh8WxeY\",\"docs_typescript_装饰器.md\":\"CSIwu506\",\"docs_vue3_reactivity-1.md\":\"C777gMrW\",\"docs_vue3_reactivity-2.md\":\"Bkl8UhnO\",\"docs_vue3_reactivity-3.md\":\"D7y3a_Zu\",\"docs_vue3_reactivity-4.md\":\"DnkApsaZ\",\"docs_vue3_reactivity-5.md\":\"BhcxqJkt\",\"docs_vue3_reactivity-6.md\":\"Dk0bW6Kq\",\"docs_vue3_reactivity-7.md\":\"pjkOYKku\",\"docs_vue3_reactivity-8.md\":\"PMPbA3tN\",\"docs_vue3_reactivity-9.md\":\"C54nCwzR\",\"docs_vue3_准备工作.md\":\"ATF55Otw\",\"docs_vue3_搭建开发环境.md\":\"D46fdld9\",\"index.md\":\"QxnKClBC\",\"markdown-examples.md\":\"D6BMH4CO\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"aymfx's 的小屋\",\"description\":\"心比天高，技术比纸薄，多学习一分，就多一分的收获\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"技术笔记\",\"items\":[{\"text\":\"typescript\",\"link\":\"/docs/typescript/基础.md\"},{\"text\":\"vue3\",\"link\":\"/docs/vue3/准备工作.md\"}]}],\"sidebar\":{\"/docs/typescript/\":[{\"text\":\"typescript学习笔记\",\"items\":[{\"text\":\"typescript基础\",\"link\":\"/docs/typescript/基础.md\"},{\"text\":\"type和interface的区别\",\"link\":\"/docs/typescript/type和interface.md\"},{\"text\":\"泛型的使用\",\"link\":\"/docs/typescript/泛型.md\"},{\"text\":\"类型计算\",\"link\":\"/docs/typescript/类型计算的方式.md\"},{\"text\":\"命名空间和模块\",\"link\":\"/docs/typescript/命名空间.md\"},{\"text\":\"装包与拆包\",\"link\":\"/docs/typescript/装包拆包.md\"},{\"text\":\"函数的协变与逆变\",\"link\":\"/docs/typescript/函数的协变与逆变.md\"},{\"text\":\"infer的用法与技巧\",\"link\":\"/docs/typescript/infer的用法与技巧.md\"},{\"text\":\"模板字符串类型\",\"link\":\"/docs/typescript/模板字符串类型.md\"},{\"text\":\"装饰器\",\"link\":\"/docs/typescript/装饰器.md\"},{\"text\":\"TSConfig配置文件\",\"link\":\"/docs/typescript/TSConfig配置文件.md\"},{\"text\":\"TS 类型体操\",\"link\":\"/docs/typescript/TS类型体操.md\"}]}],\"/docs/vue3/\":[{\"text\":\"准备\",\"items\":[{\"text\":\"准备工作\",\"link\":\"/docs/vue3/准备工作.md\"},{\"text\":\"搭建vue3开发环境\",\"link\":\"/docs/vue3/搭建开发环境.md\"}]},{\"text\":\"reactivity模块\",\"items\":[{\"text\":\"响应式模块的核心\",\"link\":\"/docs/vue3/reactivity-1.md\"},{\"text\":\"reactvie\",\"link\":\"/docs/vue3/reactivity-2.md\"},{\"text\":\"reactiveEffect\",\"link\":\"/docs/vue3/reactivity-3.md\"},{\"text\":\"ref\",\"link\":\"/docs/vue3/reactivity-4.md\"},{\"text\":\"Effect\",\"link\":\"/docs/vue3/reactivity-5.md\"},{\"text\":\"computed\",\"link\":\"/docs/vue3/reactivity-6.md\"},{\"text\":\"baseHandler\",\"link\":\"/docs/vue3/reactivity-7.md\"},{\"text\":\"apiWatch\",\"link\":\"/docs/vue3/reactivity-8.md\"},{\"text\":\"contants\",\"link\":\"/docs/vue3/reactivity-9.md\"}]},{\"text\":\"shared模块\",\"items\":[{\"text\":\"shared模块\",\"link\":\"/docs/vue3/shared.md\"}]}],\"/docs/dict/\":[{\"text\":\"CI/CD\",\"items\":[{\"text\":\"Git命令\",\"link\":\"/docs/dict/git.md\"},{\"text\":\"docker命令\",\"link\":\"/docs/dict/docker.md\"}]},{\"text\":\"数据库\",\"items\":[{\"text\":\"MySQL 常用语法\",\"link\":\"/docs/dict/mysql.md\"},{\"text\":\"Mongodb常用语法\",\"link\":\"/docs/dict/Mongodb.md\"}]},{\"text\":\"运维\",\"items\":[{\"text\":\"ssh常用命令\",\"link\":\"/docs/dict/ssh.md\"}]}]},\"outline\":\"deep\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>